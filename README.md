# Self TypeScript SDK

![SelfID logo](https://media-exp1.licdn.com/dms/image/C4E0BAQHiKfIfzq6P0w/company-logo_200_200/0?e=2159024400&v=beta&t=JDd8UXJlMG7AKpLNAP5nDYd75gQZT8E8s98xSc0jRO0)

By [Self ID](https://www.joinself.com/).

![Build Status](https://github.com/joinself/self-typescript-sdk/actions/workflows/ci.yml/badge.svg?branch=main)
[![Gem Version](https://badge.fury.io/rb/selfid.svg)](https://badge.fury.io/rb/selfid)

This sdk provides a toolset to interact with self network from your javascript code.

## Installation

```bash
$ npm install self-sdk
```

### Requirements

- [libself-olm](http://download.selfid.net/olm/libself-olm_0.1.17_amd64.deb)
- [libself-omemo](http://download.selfid.net/omemo/libself-omemo_0.1.2_amd64.deb)

#### Debian/Ubuntu
```sh
$ curl -O https://download.joinself.com/olm/libself-olm_0.1.28_amd64.deb
$ curl -O https://download.joinself.com/omemo/libself-omemo_0.1.12_amd64.deb
$ apt install libsodium-dev
$ apt install ./libself-olm_0.1.17_amd64.deb ./libself-omemo_0.1.2_amd64.deb
```

#### Redhat/Centos
```sh
$ rpm -Uvh http://download.joinself.com/olm/libself-olm-0.1.14-1.x86_64.rpm
$ rpm -Uvh http://download.joinself.com/omemo/libself-omemo-0.1.2-1.x86_64.rpm
```

#### Mac
```sh
$ brew tap joinself/crypto
$ brew install libself_olm libself_omemo
```

## Usage

You can import the generated bundle to use the whole library generated by this starter:

```javascript
const SelfSDK = require("self-sdk");
const sdk = await SelfSDK.build(appID, appSecret, "random", storageDir{ env: "sandbox" });
```

Additionally, you can import the transpiled modules from `dist/lib` in case you have a modular library:

```javascript
import authentication from 'self-sdk/authentication'
```

## Requirements

In order to use this gem you'll need to get your `app_id` and `app_api_key` from [self developer portal](https://developer.self.net).


## Documentation

You can find general documentation for Self on [self docs site](https://docs.joinself.com/) and specifically for this library on [rubydoc](https://www.rubydoc.info/gems/selfid/).

## Examples

This sdk comes with some examples built to help you have an idea of how or what to build on top of this library.
- [authentication](_examples/authentication)
- [connections](_examples/connections)
- [fact_request](_examples/fact_request)
- [intermediary_request](_examples/intermediary_request)
- [qr_authentication](_examples/qr_authentication)
- [qr_fact_request](_examples/qr_fact_request)

## Development

### NPM scripts

 - `npm t`: Run test suite
 - `npm start`: Run `npm run build` in watch mode
 - `npm run test:watch`: Run test suite in [interactive watch mode](http://facebook.github.io/jest/docs/cli.html#watch)
 - `npm run test:prod`: Run linting and generate coverage
 - `npm run build`: Generate bundles and typings, create docs
 - `npm run lint`: Lints code
 - `npm run commit`: Commit using conventional commit style ([husky](https://github.com/typicode/husky) will tell you to use it if you haven't :wink:)
 - `npm run generate-sources` : Generates the valid sources based on a json file (tools/config/sources.json).

## Contributing

Bug reports and pull requests are welcome on GitHub at https://github.com/joinself/self-typescript-sdk.


## License

The gem is available as open source under the terms of the [MIT License](LICENSE).

